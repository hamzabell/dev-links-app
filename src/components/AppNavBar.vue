<template>
    <header class="app-header">
        <div class="app-header__logo" @click="auth.logout(); $router.go(0)">
            <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M4.6185 27.3798C6.57317 29.3332 9.7145 29.3332 15.9998 29.3332C22.2852 29.3332 25.4278 29.3332 27.3798 27.3798C29.3332 25.4292 29.3332 22.2852 29.3332 15.9998C29.3332 9.7145 29.3332 6.57184 27.3798 4.6185C25.4292 2.6665 22.2852 2.6665 15.9998 2.6665C9.7145 2.6665 6.57184 2.6665 4.6185 4.6185C2.6665 6.57317 2.6665 9.7145 2.6665 15.9998C2.6665 22.2852 2.6665 25.4278 4.6185 27.3798ZM12.6665 11.6665C11.8095 11.6665 10.9716 11.9206 10.259 12.3968C9.54642 12.873 8.99101 13.5497 8.66303 14.3415C8.33505 15.1334 8.24923 16.0046 8.41643 16.8452C8.58364 17.6858 8.99635 18.4579 9.60237 19.064C10.2084 19.67 10.9805 20.0827 11.8211 20.2499C12.6617 20.4171 13.533 20.3313 14.3248 20.0033C15.1166 19.6753 15.7934 19.1199 16.2695 18.4073C16.7457 17.6947 16.9998 16.8569 16.9998 15.9998C16.9998 15.7346 17.1052 15.4803 17.2927 15.2927C17.4803 15.1052 17.7346 14.9998 17.9998 14.9998C18.2651 14.9998 18.5194 15.1052 18.7069 15.2927C18.8945 15.4803 18.9998 15.7346 18.9998 15.9998C18.9998 17.2525 18.6284 18.4769 17.9325 19.5184C17.2366 20.56 16.2474 21.3717 15.0902 21.8511C13.9329 22.3304 12.6595 22.4558 11.4309 22.2115C10.2024 21.9671 9.07389 21.3639 8.18816 20.4782C7.30243 19.5924 6.69924 18.464 6.45486 17.2354C6.21049 16.0069 6.33591 14.7334 6.81527 13.5762C7.29462 12.4189 8.10638 11.4298 9.14789 10.7339C10.1894 10.0379 11.4139 9.6665 12.6665 9.6665C12.9317 9.6665 13.1861 9.77186 13.3736 9.9594C13.5611 10.1469 13.6665 10.4013 13.6665 10.6665C13.6665 10.9317 13.5611 11.1861 13.3736 11.3736C13.1861 11.5611 12.9317 11.6665 12.6665 11.6665ZM23.6665 15.9998C23.6665 17.1491 23.21 18.2513 22.3973 19.064C21.5846 19.8766 20.4824 20.3332 19.3332 20.3332C19.068 20.3332 18.8136 20.4385 18.6261 20.6261C18.4385 20.8136 18.3332 21.068 18.3332 21.3332C18.3332 21.5984 18.4385 21.8527 18.6261 22.0403C18.8136 22.2278 19.068 22.3332 19.3332 22.3332C20.5858 22.3332 21.8103 21.9617 22.8518 21.2658C23.8933 20.5699 24.7051 19.5808 25.1844 18.4235C25.6638 17.2662 25.7892 15.9928 25.5448 14.7643C25.3004 13.5357 24.6972 12.4072 23.8115 11.5215C22.9258 10.6358 21.7973 10.0326 20.5687 9.7882C19.3402 9.54382 18.0668 9.66924 16.9095 10.1486C15.7522 10.628 14.7631 11.4397 14.0672 12.4812C13.3713 13.5227 12.9998 14.7472 12.9998 15.9998C12.9998 16.2651 13.1052 16.5194 13.2927 16.7069C13.4803 16.8945 13.7346 16.9998 13.9998 16.9998C14.2651 16.9998 14.5194 16.8945 14.7069 16.7069C14.8945 16.5194 14.9998 16.2651 14.9998 15.9998C14.9998 14.8506 15.4564 13.7484 16.269 12.9357C17.0817 12.123 18.1839 11.6665 19.3332 11.6665C20.4824 11.6665 21.5846 12.123 22.3973 12.9357C23.21 13.7484 23.6665 14.8506 23.6665 15.9998Z" fill="#633CFF"/>
            </svg>
        </div>

        <div class="app-header__tabs">
            <div class="app-header__tab" :class="{ 'app-header__tab--selected': onDashboardPage }" @click="onDashboardPage = true; $router.push('dashboard')">
                <svg class="app-header__tab-icon" :class="{ 'app-header__tab-icon--selected': onDashboardPage }" viewBox="0 0 17 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.15375 12.6509C9.24115 12.738 9.31049 12.8415 9.35781 12.9554C9.40513 13.0694 9.42949 13.1916 9.42949 13.3149C9.42949 13.4383 9.40513 13.5605 9.35781 13.6745C9.31049 13.7884 9.24115 13.8919 9.15375 13.979L8.68968 14.4431C7.81033 15.3224 6.61766 15.8164 5.37406 15.8164C4.13046 15.8164 2.93779 15.3224 2.05844 14.4431C1.17908 13.5637 0.685059 12.371 0.685059 11.1274C0.685059 9.88384 1.17908 8.69117 2.05844 7.81181L3.94281 5.92822C4.78772 5.08122 5.92451 4.58933 7.12033 4.55331C8.31615 4.51729 9.48048 4.93986 10.3748 5.73447C10.4672 5.81655 10.5424 5.91601 10.5963 6.02717C10.6502 6.13833 10.6817 6.25902 10.689 6.38235C10.6962 6.50568 10.6791 6.62923 10.6386 6.74595C10.5981 6.86266 10.535 6.97026 10.453 7.06259C10.3709 7.15493 10.2714 7.2302 10.1603 7.28409C10.0491 7.33799 9.92841 7.36947 9.80508 7.37672C9.68176 7.38398 9.55821 7.36687 9.44149 7.32638C9.32477 7.28588 9.21718 7.2228 9.12484 7.14072C8.58853 6.66441 7.89049 6.41102 7.17352 6.43237C6.45656 6.45371 5.77483 6.74819 5.26781 7.25556L3.385 9.13681C2.85747 9.66435 2.5611 10.3798 2.5611 11.1259C2.5611 11.8719 2.85747 12.5874 3.385 13.1149C3.91253 13.6425 4.62802 13.9388 5.37406 13.9388C6.1201 13.9388 6.83559 13.6425 7.36312 13.1149L7.82719 12.6509C7.91425 12.5637 8.01765 12.4946 8.13146 12.4474C8.24527 12.4002 8.36726 12.3759 8.49047 12.3759C8.61367 12.3759 8.73566 12.4002 8.84947 12.4474C8.96328 12.4946 9.06668 12.5637 9.15375 12.6509ZM14.9412 1.55713C14.0612 0.67912 12.8688 0.186035 11.6256 0.186035C10.3825 0.186035 9.19007 0.67912 8.31 1.55713L7.84594 2.02119C7.66982 2.19731 7.57087 2.43618 7.57087 2.68525C7.57087 2.93432 7.66982 3.17319 7.84594 3.34931C8.02206 3.52543 8.26093 3.62438 8.51 3.62438C8.75907 3.62438 8.99794 3.52543 9.17406 3.34931L9.63812 2.88525C10.1657 2.35772 10.8811 2.06135 11.6272 2.06135C12.3732 2.06135 13.0887 2.35772 13.6162 2.88525C14.1438 3.41278 14.4401 4.12827 14.4401 4.87431C14.4401 5.62036 14.1438 6.33584 13.6162 6.86338L11.7327 8.74775C11.2252 9.25491 10.5431 9.54896 9.82593 9.56973C9.10878 9.5905 8.41081 9.33641 7.87484 8.85947C7.78251 8.77739 7.67491 8.71431 7.55819 8.67381C7.44148 8.63332 7.31793 8.61621 7.1946 8.62347C7.07127 8.63072 6.95058 8.6622 6.83942 8.7161C6.72825 8.76999 6.62879 8.84526 6.54672 8.9376C6.46464 9.02993 6.40156 9.13753 6.36106 9.25424C6.32057 9.37096 6.30346 9.49451 6.31072 9.61784C6.31797 9.74117 6.34944 9.86186 6.40334 9.97302C6.45724 10.0842 6.53251 10.1836 6.62484 10.2657C7.51858 11.0601 8.68213 11.483 9.87739 11.4477C11.0726 11.4124 12.2092 10.9217 13.0545 10.0759L14.9389 8.19228C15.8179 7.31242 16.3119 6.1197 16.3123 4.87597C16.3128 3.63224 15.8197 2.43917 14.9412 1.55869V1.55713Z" fill="#737373"/>
                </svg>
            </div>
            <div class="app-header__tab" :class="{ 'app-header__tab--selected': !onDashboardPage }" @click="onDashboardPage = false; $router.push('profile')">
                <svg class="app-header__tab-icon app-header__tab-icon--profile" :class="{ 'app-header__tab-icon--selected': !onDashboardPage }" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.5 1.5625C8.83122 1.5625 7.19992 2.05735 5.81238 2.98448C4.42484 3.9116 3.34338 5.22936 2.70477 6.77111C2.06616 8.31286 1.89907 10.0094 2.22463 11.6461C2.55019 13.2828 3.35379 14.7862 4.53379 15.9662C5.7138 17.1462 7.21721 17.9498 8.85393 18.2754C10.4906 18.6009 12.1871 18.4338 13.7289 17.7952C15.2706 17.1566 16.5884 16.0752 17.5155 14.6876C18.4427 13.3001 18.9375 11.6688 18.9375 10C18.935 7.763 18.0453 5.61833 16.4635 4.03653C14.8817 2.45473 12.737 1.56498 10.5 1.5625ZM6.71641 15.357C7.15163 14.7619 7.72107 14.2779 8.37849 13.9442C9.0359 13.6106 9.76276 13.4367 10.5 13.4367C11.2373 13.4367 11.9641 13.6106 12.6215 13.9442C13.2789 14.2779 13.8484 14.7619 14.2836 15.357C13.1778 16.1412 11.8556 16.5625 10.5 16.5625C9.14436 16.5625 7.82221 16.1412 6.71641 15.357ZM8.3125 9.375C8.3125 8.94235 8.4408 8.51942 8.68116 8.15969C8.92153 7.79996 9.26317 7.51958 9.66288 7.35401C10.0626 7.18845 10.5024 7.14513 10.9268 7.22953C11.3511 7.31394 11.7409 7.52228 12.0468 7.8282C12.3527 8.13413 12.5611 8.52391 12.6455 8.94824C12.7299 9.37257 12.6866 9.81241 12.521 10.2121C12.3554 10.6118 12.075 10.9535 11.7153 11.1938C11.3556 11.4342 10.9327 11.5625 10.5 11.5625C9.91984 11.5625 9.36344 11.332 8.95321 10.9218C8.54297 10.5116 8.3125 9.95516 8.3125 9.375ZM15.6563 14.0578C15.0486 13.2849 14.2741 12.6595 13.3906 12.2281C13.9537 11.658 14.3355 10.934 14.4881 10.1474C14.6408 9.36074 14.5573 8.54653 14.2484 7.80718C13.9394 7.06783 13.4187 6.43637 12.7517 5.99223C12.0847 5.5481 11.3013 5.31112 10.5 5.31112C9.69869 5.31112 8.91528 5.5481 8.24831 5.99223C7.58135 6.43637 7.06062 7.06783 6.75165 7.80718C6.44267 8.54653 6.35925 9.36074 6.51187 10.1474C6.66449 10.934 7.04634 11.658 7.60938 12.2281C6.72592 12.6595 5.9514 13.2849 5.34375 14.0578C4.58051 13.0903 4.10512 11.9274 3.972 10.7022C3.83888 9.47711 4.05341 8.23925 4.59104 7.13037C5.12867 6.02148 5.96767 5.08639 7.01199 4.43212C8.05631 3.77786 9.26375 3.43086 10.4961 3.43086C11.7284 3.43086 12.9359 3.77786 13.9802 4.43212C15.0245 5.08639 15.8635 6.02148 16.4012 7.13037C16.9388 8.23925 17.1533 9.47711 17.0202 10.7022C16.8871 11.9274 16.4117 13.0903 15.6484 14.0578H15.6563Z" fill="#737373"/>
                </svg>
            </div>
        </div>

        <div class="app-header__preview" @click="$router.push('preview')">
            <svg class="app-header__preview-icon" viewBox="0 0 20 20" fill="none"  xmlns="http://www.w3.org/2000/svg">
                <path d="M19.6096 9.61953C19.5807 9.55625 18.8963 8.03672 17.3846 6.525C15.3619 4.50547 12.8127 3.4375 10.0002 3.4375C7.18769 3.4375 4.63847 4.50547 2.61815 6.525C1.10643 8.03672 0.42206 9.55625 0.39081 9.61953C0.337882 9.73953 0.310547 9.86924 0.310547 10.0004C0.310547 10.1315 0.337882 10.2613 0.39081 10.3813C0.419716 10.4453 1.10409 11.9641 2.61659 13.4758C4.63847 15.4953 7.18769 16.5625 10.0002 16.5625C12.8127 16.5625 15.3619 15.4953 17.3814 13.4758C18.8939 11.9641 19.5783 10.4453 19.6072 10.3813C19.6605 10.2614 19.6882 10.1318 19.6887 10.0006C19.6891 9.86949 19.6621 9.73969 19.6096 9.61953ZM16.0111 12.1977C14.3338 13.8492 12.3119 14.6875 10.0002 14.6875C7.68847 14.6875 5.66659 13.8492 3.99159 12.1969C3.33249 11.5447 2.76553 10.8056 2.30643 10C2.76566 9.19474 3.33261 8.45589 3.99159 7.80391C5.66737 6.15078 7.68847 5.3125 10.0002 5.3125C12.3119 5.3125 14.333 6.15078 16.0088 7.80391C16.6678 8.45583 17.2348 9.19469 17.6939 10C17.2348 10.8055 16.6678 11.5447 16.0088 12.1969L16.0111 12.1977ZM10.0002 6.5625C9.32031 6.5625 8.65571 6.76411 8.09041 7.14182C7.52512 7.51954 7.08453 8.0564 6.82435 8.68453C6.56417 9.31265 6.4961 10.0038 6.62874 10.6706C6.76137 11.3374 7.08876 11.9499 7.56951 12.4307C8.05025 12.9114 8.66275 13.2388 9.32956 13.3714C9.99637 13.5041 10.6875 13.436 11.3157 13.1758C11.9438 12.9157 12.4806 12.4751 12.8584 11.9098C13.2361 11.3445 13.4377 10.6799 13.4377 10C13.4367 9.08864 13.0742 8.21489 12.4297 7.57046C11.7853 6.92603 10.9115 6.56353 10.0002 6.5625ZM10.0002 11.5625C9.69115 11.5625 9.38906 11.4709 9.13211 11.2992C8.87515 11.1275 8.67488 10.8835 8.55662 10.5979C8.43836 10.3124 8.40742 9.99827 8.46771 9.69517C8.528 9.39208 8.67681 9.11367 8.89533 8.89515C9.11385 8.67663 9.39226 8.52781 9.69536 8.46752C9.99845 8.40723 10.3126 8.43818 10.5981 8.55644C10.8836 8.6747 11.1277 8.87497 11.2994 9.13192C11.471 9.38887 11.5627 9.69097 11.5627 10C11.5627 10.4144 11.3981 10.8118 11.105 11.1049C10.812 11.3979 10.4146 11.5625 10.0002 11.5625Z" fill="#633CFF"/>
            </svg>
        </div>
    </header>
</template>

<script setup>
    import { ref } from 'vue';
    import { useRouter } from 'vue-router';

    import useAuthStore from '@/store/useAuthStore';

    const auth = useAuthStore();


    const $router = useRouter();

    const onDashboardPage = ref($router.currentRoute.value.name === 'dashboard');

</script>

<style lang="scss">
    @use '../scss/partials';
    .app-header {
        @include partials.flex-row;
        justify-content: space-between;
        width: 100%;
        height: 7.4rem;
        background: partials.$white;
        padding: 2.1rem 2.4rem;
        box-sizing: border-box;

        &__logo {
            width: 3.2rem;
            height: 3.2rem;
            padding-top: .5rem;
        }

        &__tabs {
            @include partials.flex-row;
            column-gap: .3rem;
            width: 14.8rem;
            height: 4.2rem;
        }

        &__tab {
            height: 4.2rem;
            width: 7.4rem;
            @include partials.flex-row-center-all;

            &--selected {
                background: partials.$purple-light;
                border-radius: 8px;

                
            }
        }

        &__tab-icon {
            width: 1.5rem;
            height: 1.5rem;
            filter: partials.$grey-filter;

            &--profile {
                width: 2rem;
                height: 2rem;
            }

            &--selected {
                filter: partials.$purple-filter;
            }
        }

        &__preview {
            @include partials.flex-row-center-all;
            width: 5.2rem;
            height: 4.2rem;
            border: 1px solid partials.$purple;
            border-radius: 8px; 
            cursor: pointer;
        }

        &__preview-icon {
                width: 2rem;
                height: 2rem;
                image-rendering: auto;
            }
    }

</style>